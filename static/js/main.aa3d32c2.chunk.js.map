{"version":3,"sources":["components/util/dataQuery.js","components/SearchInput.jsx","components/SearchLocationScreen.jsx","components/Location.jsx","components/Clock.jsx","components/Icon.jsx","components/CurrentWeatherInfo.jsx","components/CurrentInfo.jsx","components/DayCard.jsx","components/util/date.js","components/DailyForecast.jsx","components/util/getMinMaxValues.js","components/HourlyForecast.jsx","components/Loading.jsx","components/Forecast.jsx","components/MainContent.jsx","App.js","index.js"],"names":["API_KEY","process","API_URL","fetcher","fetch","then","res","json","SearchInput","props","setLocation","useState","searchQuery","setSearchQuery","message","status","invalidInput","setInvalidInput","console","log","useSWR","query","place","data","errorPlace","error","React","useEffect","length","loaded","permission","coordinates","lat","lon","setTimeout","className","onSubmit","event","preventDefault","inputValue","target","value","trim","test","style","position","type","id","placeholder","invalid","icon","faSearchLocation","SearchLocationScreen","Location","city","citiesList","citiesListIndex","setCitiesListIndex","cityName","name","country","sys","onClick","prev","faAngleLeft","color","faAngleRight","Clock","getDate","Date","formatDate","Intl","DateTimeFormat","timeStyle","hourCycle","format","time","setTime","setInterval","Icon","iconId","CurrentWeatherInfo","main","temp","feels_like","humidity","wind_speed","wind","speed","weather","description","tempInt","Math","trunc","feelsLikeInt","CurrentInfo","DayCard","dayObj","day","dt","dayTemp","nightTemp","night","utc","date","weekday","dayNumber","getDay","month","getMonth","year","getFullYear","dateDay","dayTempInt","nightTempInt","DailyForecast","days","map","index","diffXY","integral","integralXY","extrema","extremaXY","x","y","n","pop","keysX","Object","keys","keysY","len","min","k","values","enumerate","floor","eps","minlist","val","maxlist","s","m","M","i","j","obj","arr","max","push","datasets","label","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","HourlyForecast","hourly","computeNumPoints","ww","window","innerWidth","_numPoints","graphData","labels","numPoints","setNumPoints","listener","newValue","addEventListener","removeEventListener","formatttedDate","getHours","minMax","options","layout","padding","defaultFontSize","plugins","datalabels","formatter","context","dataIndex","isMax","includes","isMin","symbol","toFixed","offset","align","anchor","maintainAspectRatio","responsive","Loading","loadingMessage","class","Forecast","mainDataQuery","daily","MainContent","userLocationByCoordinatesQuery","userLocation","errorUserLocation","list","latitude","coord","longitude","App","location","navigator","geolocation","getCurrentPosition","coords","state","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.aa3d32c2.chunk.js","sourcesContent":["const API_KEY = process.env.REACT_APP_API_KEY;\r\nconst API_URL = \"https://api.openweathermap.org\";\r\n\r\nexport const fetcher = (...args) => fetch(...args).then((res) => res.json());\r\n\r\nexport const mainDataQuery = (lat, lon) => {\r\n  const exclude = \"minutely\";\r\n  const units = \"metric\";\r\n\r\n  const URL = `${API_URL}/data/2.5/onecall?lat=${lat}&lon=${lon}&exclude=${exclude}&appid=${API_KEY}&units=${units}`;\r\n  return URL;\r\n};\r\n\r\nexport const userLocationByCoordinatesQuery = (lat, lon) => {\r\n  const limit = 10;\r\n  const units = \"metric\";\r\n\r\n  const URL = `${API_URL}/data/2.5/find?lat=${lat}&lon=${lon}&cnt=${limit}&appid=${API_KEY}&units=${units}`;\r\n  return URL;\r\n};\r\n\r\nexport const userLocationBySearchQuery = (query) => {\r\n  const limit = 1;\r\n\r\n  const URL = `${API_URL}/geo/1.0/direct?q=${query}&limit=${limit}&appid=${API_KEY}`;\r\n  return URL;\r\n};\r\n","import React, { useState } from \"react\";\r\n\r\nimport useSWR from \"swr\";\r\n\r\n// CSS\r\nimport \"../css/searchInput.css\";\r\n\r\n// Util\r\nimport { userLocationBySearchQuery, fetcher } from \"./util/dataQuery\";\r\n\r\n// Icons\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSearchLocation } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport default function SearchInput(props) {\r\n  const { setLocation } = props;\r\n\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n  const [invalidInput, setInvalidInput] = useState({\r\n    message: \"\",\r\n    status: false,\r\n  });\r\n  console.log(\r\n    \"🚀 ~ file: SearchInput.jsx ~ line 21 ~ SearchInput ~ invalidInput\",\r\n    invalidInput\r\n  );\r\n\r\n  const { data: place, error: errorPlace } = useSWR(\r\n    () => searchQuery && userLocationBySearchQuery(searchQuery),\r\n    fetcher\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    if (place) {\r\n      if (!place.length)\r\n        return setInvalidInput({\r\n          message: \"Please search a valid city or country\",\r\n          status: true,\r\n        });\r\n      return setLocation({\r\n        loaded: true,\r\n        permission: true,\r\n        coordinates: {\r\n          lat: place[0].lat,\r\n          lon: place[0].lon,\r\n        },\r\n      });\r\n    }\r\n  }, [place, setLocation]);\r\n\r\n  React.useEffect(() => {\r\n    if (invalidInput.status)\r\n      return setTimeout(() => {\r\n        setInvalidInput({\r\n          message: \"\",\r\n          status: false,\r\n        });\r\n      }, 3000);\r\n  }, [invalidInput.status]);\r\n\r\n  if (errorPlace) return;\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const inputValue = event.target[0].value.trim();\r\n\r\n    const regex = /^[\\w,.!?]/;\r\n\r\n    if (!regex.test(inputValue) || !inputValue)\r\n      return setInvalidInput({\r\n        message: \"Your search is not valid!\",\r\n        status: true,\r\n      });\r\n\r\n    return setSearchQuery(inputValue);\r\n  };\r\n  return (\r\n    <form\r\n      className=\"searchInputForm\"\r\n      onSubmit={handleSubmit}\r\n      style={{ position: \"relative\" }}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        id=\"input\"\r\n        placeholder=\"Search by city and countries\"\r\n        invalid=\"false\"\r\n        className={invalidInput.status ? \"searchInput invalid\" : \"searchInput\"}\r\n      />\r\n      <button type=\"submit\" className=\"searchInputBtn\">\r\n        <FontAwesomeIcon icon={faSearchLocation} />\r\n      </button>\r\n\r\n      <span className=\"message\">{invalidInput.message}</span>\r\n    </form>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\n// CSS\r\nimport \"../css/searchLocationScreen.css\";\r\n\r\n// Components\r\nimport SearchInput from \"./SearchInput\";\r\n\r\nexport default function SearchLocationScreen(props) {\r\n  return (\r\n    <main className=\"searchLocationContainer\">\r\n      <h1>Welcome!</h1>\r\n      <h3>Check the current and forecast weather.</h3>\r\n\r\n      <SearchInput {...props} />\r\n    </main>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\n// CSS\r\nimport \"../css/location.css\";\r\n\r\n// Icons\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faAngleRight, faAngleLeft } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport default function Location(props) {\r\n  const { city, citiesList, citiesListIndex, setCitiesListIndex } = props;\r\n\r\n  const cityName = city.name;\r\n  const country = city.sys.country;\r\n\r\n  // Handle increasing or decreasing index state\r\n  const handleIncreaseClick = () => {\r\n    if (citiesListIndex >= citiesList.length - 1) return setCitiesListIndex(0);\r\n    return setCitiesListIndex((prev) => prev + 1);\r\n  };\r\n\r\n  const handleDecreaseClick = () => {\r\n    if (citiesListIndex === 0) return setCitiesListIndex(citiesList.length - 1);\r\n    return setCitiesListIndex((prev) => prev - 1);\r\n  };\r\n  return (\r\n    <div className=\"location-wp\">\r\n      <button className=\"location-btn\" onClick={handleDecreaseClick}>\r\n        <FontAwesomeIcon icon={faAngleLeft} className=\"arrow-icon\" />\r\n      </button>\r\n      <h3 className=\"location-city\">\r\n        {cityName} <span style={{ color: \"orangered\" }}>{country}</span>{\" \"}\r\n      </h3>\r\n      <button className=\"location-btn\" onClick={handleIncreaseClick}>\r\n        <FontAwesomeIcon icon={faAngleRight} className=\"arrow-icon\" />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\n\r\nfunction Clock() {\r\n  let getDate = new Date();\r\n  let formatDate = new Intl.DateTimeFormat(\"en-US\", {\r\n    timeStyle: \"medium\",\r\n    hourCycle: \"h24\",\r\n  }).format(getDate);\r\n\r\n  const [time, setTime] = useState(formatDate);\r\n\r\n  const updateTime = () => {\r\n    getDate = new Date();\r\n    formatDate = new Intl.DateTimeFormat(\"en-US\", {\r\n      timeStyle: \"medium\",\r\n      hourCycle: \"h24\",\r\n    }).format(getDate);\r\n\r\n    setTime(formatDate);\r\n  };\r\n\r\n  setInterval(updateTime, 1000);\r\n\r\n  return (\r\n    <div className=\"clock-wp\">\r\n      <h1>{time}</h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Clock;\r\n","import React from \"react\";\r\n\r\nconst Icon = ({ iconId }) => {\r\n  return <i className={`wi wi-owm-${iconId} icon`}></i>;\r\n};\r\n\r\nexport default Icon;\r\n","import React from \"react\";\r\n\r\n//Components\r\nimport Icon from \"./Icon\";\r\n\r\nexport default function CurrentWeatherInfo(props) {\r\n  const { city } = props;\r\n  const { temp, feels_like, humidity } = city.main;\r\n  const { speed: wind_speed } = city.wind;\r\n  const { description, id } = city.weather[0];\r\n\r\n  const tempInt = Math.trunc(temp);\r\n  const feelsLikeInt = Math.trunc(feels_like);\r\n\r\n  return (\r\n    <div className=\"current-weather-info-wp\">\r\n      <h1>{tempInt}&deg;</h1>\r\n      <div className=\"current-weather-info_description\">\r\n        <Icon iconId={id} />\r\n        <h3>{description}</h3>\r\n      </div>\r\n      <div className=\"current-weather-info\">\r\n        <h3>feels like: {feelsLikeInt}&deg;</h3>\r\n        <h3>humidity: {humidity}&#37;</h3>\r\n        <h3>wind speed: {wind_speed} m/s</h3>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\n// CSS\r\nimport \"../css/currentInfo.css\";\r\n\r\n//Components\r\nimport SearchInput from \"./SearchInput\";\r\nimport Location from \"./Location\";\r\nimport Clock from \"./Clock\";\r\nimport CurrentWeatherInfo from \"./CurrentWeatherInfo\";\r\n\r\nexport default function CurrentInfo(props) {\r\n  const { city, setLocation } = props;\r\n  return (\r\n    <div className=\"current-info-wp\">\r\n      <div className=\"current-info_location\">\r\n        <SearchInput setLocation={setLocation} />\r\n        <Location {...props} />\r\n      </div>\r\n\r\n      <div className=\"current-info_data\">\r\n        <Clock />\r\n        <hr />\r\n        <CurrentWeatherInfo city={city} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\n// Components\r\nimport Icon from \"./Icon\";\r\n\r\n//Util\r\nimport date from \"./util/date\";\r\n\r\nexport default function DayCard(props) {\r\n  const { day: dayObj } = props;\r\n  const { dt } = dayObj;\r\n  const { day: dayTemp, night: nightTemp } = dayObj.feels_like;\r\n  const { id, description } = dayObj.weather[0];\r\n\r\n  // Get date\r\n  const { weekday, day: dateDay } = date(dt);\r\n\r\n  const dayTempInt = Math.trunc(dayTemp);\r\n  const nightTempInt = Math.trunc(nightTemp);\r\n\r\n  return (\r\n    <div className=\"daily-forecast_card\">\r\n      <h3>\r\n        {weekday} <span>{dateDay}</span>\r\n      </h3>\r\n      <div className=\"daily-forecast_card-description\">\r\n        <Icon iconId={id} />\r\n        <h3>{description}</h3>\r\n      </div>\r\n      <h3 className=\"daily-forecast_card-temp\">\r\n        {dayTempInt}&deg; <span>{nightTempInt}&deg;</span>\r\n      </h3>\r\n    </div>\r\n  );\r\n}\r\n","export default function date(utc) {\r\n  let date = new Date(utc * 1000);\r\n\r\n  const weekdays = new Intl.DateTimeFormat(\"en-US\", {\r\n    weekday: \"long\",\r\n  }).format(date);\r\n\r\n  const dateObj = {\r\n    weekday: weekdays,\r\n    dayNumber: date.getDay() + 1,\r\n    day: date.getDate(),\r\n    month: date.getMonth(),\r\n    year: date.getFullYear(),\r\n  };\r\n\r\n  return dateObj;\r\n}\r\n","import React from \"react\";\r\n\r\n//CSS\r\nimport \"../css/dailyForecast.css\";\r\n\r\n//Components\r\nimport DayCard from \"./DayCard\";\r\n\r\nexport default function DailyForecast(props) {\r\n  const { days } = props;\r\n\r\n  return (\r\n    <div className=\"daily-forecast-wp\">\r\n      {days.map((day, index) => (\r\n        <DayCard key={index} day={day} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","var diff, diffXY, integral, integralXY, extrema, extremaXY;\r\n\r\n/**\r\n * Calculate differences of a vector.\r\n *\r\n * Takes an object or array Y with m numbers and returns an array\r\n * dY with m-1 numbers that constitutes the differences:\r\n * dY = [Y(2)-Y(1) Y(3)-Y(2) ... Y(m)-Y(m-1)]\r\n * If Y are function values f(1), f(2), ... with a step size of 1,\r\n * then dY constitutes the approximate derivative of f. For a different\r\n * step size use diffXY.\r\n * NOTE: For a step size other than 1, the differences do NOT constitute\r\n * the approximate derivative and thus in those cases use diffXY if you\r\n * want to get the derivative.\r\n *\r\n * If as second parameter a number n is given, the returned array\r\n * dY will be the n-th differential, thus above step applied n-times.\r\n *\r\n * @author Balint Morvai <balint@morvai.de>\r\n * @license http://en.wikipedia.org/wiki/MIT_License MIT License\r\n * @param values\r\n * @param n\r\n * @returns Array\r\n */\r\ndiff = function (values, n) {\r\n  // make y enumerated and define x = 1, 2, 3, ...\r\n  var x, y;\r\n  y = enumerate(values);\r\n  x = Object.keys(y).map(Math.floor);\r\n  // call diffXY version\r\n  return diffXY(x, y, n);\r\n};\r\n\r\n/**\r\n * Calculate approximate derivative of a vector Y, assuming\r\n * that Y=f(X) with given vector X.\r\n *\r\n * Takes objects or arrays X and Y with m numbers and returns\r\n * an array dY with m-1 numbers that constitutes the approximate\r\n * derivative:\r\n * dY = [(Y(2)-Y(1))/(X(2)-X(1))  (Y(3)-Y(2)/(X(3)-X(2)) ...\r\n *       (Y(m)-Y(m-1))/((X(m)-X(m-1))]\r\n *\r\n * If as second parameter a number n is given, the returned array\r\n * dY will be the n-th differential, thus above step applied n-times.\r\n *\r\n * @author Balint Morvai <balint@morvai.de>\r\n * @license http://en.wikipedia.org/wiki/MIT_License MIT License\r\n * @param x\r\n * @param y\r\n * @param n\r\n * @returns Array\r\n */\r\ndiffXY = function (x, y, n) {\r\n  // recursive calls to get n-th diff\r\n  if (n > 1) {\r\n    y = diffXY(x, y, n - 1);\r\n    x.pop();\r\n  }\r\n  // loop through 1,...,m-1 entries of values to get diff\r\n  var keysX = Object.keys(x);\r\n  var keysY = Object.keys(y);\r\n  var len = Math.min(keysX.length - 1, keysY.length - 1);\r\n  for (var k = 0; k < len; k++) {\r\n    y[k] = (y[keysY[k + 1]] - y[keysY[k]]) / (x[keysX[k + 1]] - x[keysX[k]]);\r\n  }\r\n  y.pop(); // last element is old value, delete it\r\n\r\n  return y;\r\n};\r\n\r\n/**\r\n * Calculate reverse differences of a vector.\r\n *\r\n * Takes an object or array Y with m numbers and returns an array\r\n * IY with m numbers that constitutes the reverse differences:\r\n * [ ... -Y(m)-Y(m-1)-Y(m-2)  -Y(m)-Y(m-1)  -Y(m)]\r\n * If Y are function values f(1), f(2), ... with a step size of 1,\r\n * then IY constitutes the approximate integral of f. For a different\r\n * step size use integralXY.\r\n *\r\n * If as second parameter a number n is given, the returned array\r\n * Y will be the n-th integral, thus above step applied n-times.\r\n *\r\n * NOTE: the integral cannot determine the original set of values\r\n * before \"diff\" was applied, thus \"integral(diff(values)) != values\"\r\n * due to the nature of integration and differentiation. However the\r\n * shape of the result will be the same, the curve will only be\r\n * shifted by a constant value. (\"translation\")\r\n *\r\n * @author Balint Morvai <balint@morvai.de>\r\n * @license http://en.wikipedia.org/wiki/MIT_License MIT License\r\n * @param values\r\n * @param n\r\n * @returns Array\r\n */\r\nintegral = function (values, n) {\r\n  // make y enumerated and define x = 1, 2, 3, ...\r\n  var x, y;\r\n  y = enumerate(values);\r\n  x = Object.keys(y).map(Math.floor);\r\n  // call integralXY version\r\n  return integralXY(x, y, n);\r\n};\r\n\r\n/**\r\n * Calculate approximate integral of a vector, assuming\r\n * that Y=f(X) with given vector X.\r\n *\r\n * Takes an object or array Y with m numbers and returns an array\r\n * X with m numbers that constitutes the integral:\r\n * [ ...\r\n *  -Y(m)*(X(m)-X(m-1)-Y(m-1)*(X(m)-X(m-1)-Y(m-2)*(X(m-1)-X(m-2)-Y(m-3)*(X(m-2)-X(m-3)\r\n *  -Y(m)*(X(m)-X(m-1)-Y(m-1)*(X(m)-X(m-1)-Y(m-2)*(X(m-1)-X(m-2)\r\n *  -Y(m)*(X(m)-X(m-1)-Y(m-1)*(X(m)-X(m-1)\r\n *  -Y(m)*(X(m)-X(m-1))\r\n * ]\r\n *\r\n * If as second parameter a number n is given, the returned array\r\n * X will be the n-th integral, thus above step applied n-times.\r\n *\r\n * NOTE: the integral cannot determine the original set of values\r\n * before \"diff\" was applied, thus \"integral(diff(values)) != values\"\r\n * due to the nature of integration and differentiation. However the\r\n * shape of the result will be the same, the curve will only be\r\n * shifted by a constant value. (\"translation\")\r\n *\r\n * @author Balint Morvai <balint@morvai.de>\r\n * @license http://en.wikipedia.org/wiki/MIT_License MIT License\r\n * @param x\r\n * @param y\r\n * @param n\r\n * @returns Array\r\n */\r\nintegralXY = function (x, y, n) {\r\n  // recursive calls to get n-th diff\r\n  if (n > 1) {\r\n    y = integral(x, y, n - 1);\r\n  }\r\n  // loop through m,...,1 entries of values to get integral\r\n  var keysX = Object.keys(x);\r\n  var keysY = Object.keys(y);\r\n  var len = Math.min(keysX.length - 1, keysY.length - 1);\r\n  // NOTE: below we would need X(len+1) & Y(len+1) but both are missing;\r\n  // thus we assume \"X(len+1)-X(len)=X(len)-X(len-1)\" and \"Y(len+1)=0\"\r\n  y[len] = -y[len] * (x[keysX[len]] - x[keysX[len - 1]]);\r\n  for (var k = len - 1; k >= 0; k--) {\r\n    y[k] = -y[keysY[k]] * (x[keysX[k + 1]] - x[keysX[k]]) + y[keysY[k + 1]];\r\n  }\r\n\r\n  return y;\r\n};\r\n\r\n/**\r\n * Find local maxima and minima in a list of values.\r\n *\r\n * Javascript implementation of:\r\n * \"A Linear-Time Algorithm That Locates Local Extrema\r\n * of a Function of One Variable From Interval Measurement\r\n * Results\" - Karen Villaverde, Vladik Kreinovich\r\n * (Interval Computations 01/1993; 1993(4))\r\n *\r\n * Takes an object or array with numbers and returns an object\r\n * with two lists of indices: 'minlist' with indices of values\r\n * that are local minima and 'maxlist' with indices of values that\r\n * are local maxima. Indices can be of any type.\r\n * Takes numbers as first parameter and an accuracy > 0 (epsilon)\r\n * as second parameter. The accuracy has to be chosen depending\r\n * on the fluctuations in the data: smaller values mean greater\r\n * reliability in finding extrema but also greater chance of\r\n * confusing noise with a local minimum or maximum.\r\n *\r\n * @author Balint Morvai <balint@morvai.de>\r\n * @license http://en.wikipedia.org/wiki/MIT_License MIT License\r\n * @param values\r\n * @param eps\r\n * @returns {minlist: Array, maxlist: Array}\r\n */\r\nextrema = function (values, eps) {\r\n  // make y enumerated and define x = 1, 2, 3, ...\r\n  var x, y;\r\n  y = enumerate(values);\r\n  x = Object.keys(y).map(Math.floor);\r\n  // call extremaXY version\r\n  var res = extremaXY(x, y, eps);\r\n  res.minlist = res.minlist.map(function (val) {\r\n    var index = Math.floor((val[1] + val[0]) / 2);\r\n    return Object.keys(values)[index];\r\n  });\r\n  res.maxlist = res.maxlist.map(function (val) {\r\n    var index = Math.floor((val[1] + val[0]) / 2);\r\n    return Object.keys(values)[index];\r\n  });\r\n\r\n  return { minlist: res.minlist, maxlist: res.maxlist };\r\n};\r\n\r\n/**\r\n * Alternative version that takes vectors [x] and [y] instead of\r\n * [values] as input and returns intervals that contain local minima\r\n * and local maxima. [x] elements can be of any type.\r\n *\r\n * @author Balint Morvai <balint@morvai.de>\r\n * @license http://en.wikipedia.org/wiki/MIT_License MIT License\r\n * @param x\r\n * @param y\r\n * @param eps\r\n * @returns {minlist: Array, maxlist: Array}\r\n */\r\nextremaXY = function (x, y, eps) {\r\n  // declare local vars\r\n  var n, s, m, M, maxlist, minlist, i, j;\r\n  // define x & y enumerated arrays\r\n  var enumerate = function (obj) {\r\n    var arr = [];\r\n    var keys = Object.keys(obj);\r\n    for (var k = 0; k < keys.length; k++) {\r\n      arr[k] = obj[keys[k]];\r\n    }\r\n    return arr;\r\n  };\r\n  y = enumerate(y);\r\n  x = enumerate(x);\r\n  // set initial values\r\n  n = y.length;\r\n  s = 0;\r\n  m = y[0];\r\n  M = y[0];\r\n  maxlist = [];\r\n  minlist = [];\r\n  i = 1;\r\n  if (typeof eps == \"undefined\") {\r\n    eps = 0.1;\r\n  }\r\n  // the algorithm\r\n  while (i < n) {\r\n    if (s == 0) {\r\n      if (!(M - eps <= y[i] && y[i] <= m + eps)) {\r\n        if (M - eps > y[i]) {\r\n          s = -1;\r\n        }\r\n        if (m + eps < y[i]) {\r\n          s = 1;\r\n        }\r\n      }\r\n      M = Math.max(M, y[i]);\r\n      m = Math.min(m, y[i]);\r\n    } else {\r\n      if (s == 1) {\r\n        if (M - eps <= y[i]) {\r\n          M = Math.max(M, y[i]);\r\n        } else {\r\n          j = i - 1;\r\n          while (y[j] >= M - eps) {\r\n            j--;\r\n          }\r\n          maxlist.push([x[j], x[i]]);\r\n          s = -1;\r\n          m = y[i];\r\n        }\r\n      } else {\r\n        if (s == -1) {\r\n          if (m + eps >= y[i]) {\r\n            m = Math.min(m, y[i]);\r\n          } else {\r\n            j = i - 1;\r\n            while (y[j] <= m + eps) {\r\n              j--;\r\n            }\r\n            minlist.push([x[j], x[i]]);\r\n            s = 1;\r\n            M = y[i];\r\n          }\r\n        }\r\n      }\r\n    }\r\n    i++;\r\n  }\r\n\r\n  return { minlist: minlist, maxlist: maxlist };\r\n};\r\n\r\n// helper to make an array or object an enumerated array\r\nvar enumerate = function (obj) {\r\n  var arr = [];\r\n  var keys = Object.keys(obj);\r\n  for (var k = 0; k < keys.length; k++) {\r\n    arr[k] = obj[keys[k]];\r\n  }\r\n  return arr;\r\n};\r\n\r\nexport { extrema };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { extrema } from \"./util/getMinMaxValues\";\r\n\r\n// CSS\r\nimport \"../css/hourlyForecast.css\";\r\n\r\nconst data = {\r\n  //   labels: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\"],\r\n\r\n  datasets: [\r\n    {\r\n      label: \"Temperature\",\r\n      // backgroundColor: \"rgba(255,99,132,0.2)\",\r\n      backgroundColor: \"rgba(255,99,132,0.0)\",\r\n      borderColor: \"orangered\",\r\n      borderWidth: 1,\r\n      hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\r\n      hoverBorderColor: \"rgba(255,99,132,1)\",\r\n\r\n      //   data: [65, 59, 80, 81, 56, 55, 40],\r\n    },\r\n  ],\r\n};\r\n\r\nexport default function HourlyForecast(props) {\r\n  const { hourly } = props;\r\n\r\n  function computeNumPoints() {\r\n    const ww = window.innerWidth;\r\n    let _numPoints = 6;\r\n    if (ww >= 640) {\r\n      _numPoints = 12;\r\n    }\r\n    if (ww >= 720) {\r\n      _numPoints = 18;\r\n    }\r\n    if (ww >= 1024) {\r\n      _numPoints = 24;\r\n    }\r\n    // console.log(`pts: ${_numPoints}`)\r\n    return _numPoints;\r\n  }\r\n\r\n  //NOTE copy of chart object\r\n  const graphData = { ...data };\r\n\r\n  graphData.labels = [];\r\n  graphData.datasets[0].data = [];\r\n  const [numPoints, setNumPoints] = useState(computeNumPoints());\r\n\r\n  useEffect(() => {\r\n    console.log(\"Observing resize\");\r\n    const listener = () => {\r\n      const newValue = computeNumPoints();\r\n      if (numPoints !== newValue) {\r\n        setNumPoints(newValue);\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"resize\", listener);\r\n\r\n    return () => {\r\n      console.log(\"cleanup\");\r\n      window.removeEventListener(\"resize\", listener);\r\n    };\r\n  }, [numPoints]);\r\n\r\n  for (let i = 0; i < numPoints; i++) {\r\n    // getHourlyTemp.push(hourly[i].temp);\r\n    const formatttedDate = new Date(hourly[i].dt * 1000).getHours();\r\n    graphData.labels.push(formatttedDate);\r\n    graphData.datasets[0].data.push(hourly[i].temp);\r\n  }\r\n  const minMax = extrema(graphData.datasets[0].data, 0.5);\r\n  //   console.log(`minMax`, minMax, graphData.datasets[0].data);\r\n\r\n  return (\r\n    <div className=\"hourly-forecast\">\r\n      <h2>Hourly forecast</h2>\r\n\r\n      <div className=\"hourly-forecast_chart\">\r\n        <Line\r\n          data={graphData}\r\n          // width={window.innerWidth - 100}\r\n          // height={150}\r\n          options={{\r\n            layout: {\r\n              padding: 35,\r\n            },\r\n\r\n            labels: {\r\n              defaultFontSize: 24,\r\n            },\r\n            plugins: {\r\n              // Change options for ALL labels of THIS CHART\r\n              datalabels: {\r\n                formatter: function (value, context) {\r\n                  const index = context.dataIndex;\r\n\r\n                  // NOTE converting index to string\r\n                  const isMax = minMax.maxlist.includes(\"\" + index);\r\n                  const isMin = minMax.minlist.includes(\"\" + index);\r\n                  const symbol = isMax ? \"▲ \" : isMin ? \"▼ \" : \"\";\r\n\r\n                  if (\r\n                    isMax ||\r\n                    isMin ||\r\n                    index === 0 ||\r\n                    index === graphData.datasets[0].data.length - 1\r\n                  ) {\r\n                    return `${symbol}${value.toFixed(1)}°`;\r\n                  }\r\n                  return ``;\r\n                },\r\n\r\n                color: \"#fff\",\r\n                offset: -30,\r\n                align: \"start\",\r\n                anchor: \"end\",\r\n              },\r\n            },\r\n\r\n            // scales: {\r\n            //   yAxes: [\r\n            //     {\r\n            //       ticks: {\r\n            //         display: false,\r\n            //       },\r\n            //     },\r\n            //   ],\r\n            // },\r\n            // legend: {\r\n            //   display: false,\r\n            // },\r\n            maintainAspectRatio: false,\r\n            responsive: true,\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\n// CSS\r\n\r\nimport \"../css/loading.css\";\r\n\r\nexport default function Loading({ loadingMessage }) {\r\n  return (\r\n    <div className=\"loading-wp\">\r\n      <div class=\"cloud-icon cloudy\">\r\n        <div class=\"cloud\"></div>\r\n        <div class=\"cloud\"></div>\r\n      </div>\r\n      <h1>{loadingMessage}</h1>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\n// Components\r\nimport DailyForecast from \"./DailyForecast\";\r\nimport HourlyForecast from \"./HourlyForecast\";\r\nimport Loading from \"./Loading\";\r\n\r\n//Util\r\nimport { mainDataQuery, fetcher } from \"./util/dataQuery\";\r\nimport useSWR from \"swr\";\r\n\r\nexport default function Forecast({ lat, lon }) {\r\n  const { data, error } = useSWR(mainDataQuery(lat, lon), fetcher);\r\n\r\n  if (!data) return <Loading loadingMessage=\"Loading data...\" />;\r\n  if (error) return;\r\n\r\n  return (\r\n    <div>\r\n      <DailyForecast days={data.daily} />\r\n      <HourlyForecast hourly={data.hourly} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\n\r\nimport useSWR from \"swr\";\r\n\r\n// Components\r\nimport CurrentInfo from \"./CurrentInfo\";\r\nimport Forecast from \"./Forecast\";\r\nimport Loading from \"./Loading\";\r\n\r\n// Util\r\nimport { userLocationByCoordinatesQuery, fetcher } from \"./util/dataQuery\";\r\n\r\nexport default function MainContent(props) {\r\n  const { lat, lon, setLocation } = props;\r\n  const [citiesListIndex, setCitiesListIndex] = useState(0);\r\n\r\n  const { data: userLocation, error: errorUserLocation } = useSWR(\r\n    userLocationByCoordinatesQuery(lat, lon),\r\n    fetcher\r\n  );\r\n\r\n  if (!userLocation)\r\n    return (\r\n      <main className=\"main-content-wp\">\r\n        <Loading loadingMessage=\"Loading location...\" />\r\n      </main>\r\n    );\r\n  if (errorUserLocation) return;\r\n\r\n  // Iterate nearby cities\r\n  const city = userLocation.list[citiesListIndex];\r\n  const latitude = city.coord.lat;\r\n  const longitude = city.coord.lon;\r\n\r\n  return (\r\n    <main className=\"main-content-wp\">\r\n      <CurrentInfo\r\n        city={city}\r\n        citiesList={userLocation.list}\r\n        setCitiesListIndex={setCitiesListIndex}\r\n        citiesListIndex={citiesListIndex}\r\n        setLocation={setLocation}\r\n      />\r\n\r\n      <Forecast lat={latitude} lon={longitude} />\r\n    </main>\r\n  );\r\n}\r\n","import React from \"react\";\n\nimport \"weather-icons/css/weather-icons.min.css\";\n\n// Components\nimport SearchLocationScreen from \"./components/SearchLocationScreen\";\nimport MainContent from \"./components/MainContent\";\n\nfunction App() {\n  const [location, setLocation] = React.useState({\n    loaded: false,\n    permission: false,\n    coordinates: {\n      lat: null,\n      lon: null,\n    },\n  });\n\n  function getUserPermission() {\n    const geolocation = navigator.geolocation;\n\n    geolocation.getCurrentPosition(getGeolocationSuccess, getGeolocationError);\n\n    function getGeolocationError() {\n      setLocation((state) => ({\n        ...state,\n        loaded: true,\n        permission: false,\n      }));\n    }\n\n    function getGeolocationSuccess(position) {\n      const latitude = position.coords.latitude;\n      const longitude = position.coords.longitude;\n\n      setLocation({\n        loaded: true,\n        permission: true,\n        coordinates: {\n          lat: latitude,\n          lon: longitude,\n        },\n      });\n    }\n  }\n\n  React.useEffect(() => {\n    getUserPermission();\n  }, []);\n\n  if (location.loaded && location.permission)\n    return (\n      <MainContent\n        lat={location.coordinates.lat}\n        lon={location.coordinates.lon}\n        setLocation={setLocation}\n      />\n    );\n  if (!location.permission)\n    return <SearchLocationScreen setLocation={setLocation} />;\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  // <React.StrictMode>\n  <App />,\n  // </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}