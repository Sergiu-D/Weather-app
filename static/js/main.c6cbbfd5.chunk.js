/*! For license information please see main.c6cbbfd5.chunk.js.LICENSE.txt */
(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{20:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(14),r=n.n(s),i=(n(20),n(5)),o=n(4),l=(n(21),n(22),n(7)),d=(n(23),"faa43b230bd3f3f5c33027ab0a77b157"),u="https://api.openweathermap.org",j=function(){return fetch.apply(void 0,arguments).then((function(e){return e.json()}))},h=n(9),b=n(10),f=n(0);function m(e){var t=e.setLocation,n=Object(a.useState)(""),s=Object(o.a)(n,2),r=s[0],i=s[1],m=Object(a.useState)({message:"",status:!1}),O=Object(o.a)(m,2),x=O[0],p=O[1];console.log("\ud83d\ude80 ~ file: SearchInput.jsx ~ line 21 ~ SearchInput ~ invalidInput",x);var v=Object(l.a)((function(){return r&&(e=r,"".concat(u,"/geo/1.0/direct?q=").concat(e,"&limit=").concat(1,"&appid=").concat(d));var e}),j),y=v.data,g=v.error;if(c.a.useEffect((function(){if(y)return y.length?t({loaded:!0,permission:!0,coordinates:{lat:y[0].lat,lon:y[0].lon}}):p({message:"Please search a valid city or country",status:!0})}),[y,t]),c.a.useEffect((function(){if(x.status)return setTimeout((function(){p({message:"",status:!1})}),3e3)}),[x.status]),!g){return Object(f.jsxs)("form",{className:"searchInputForm",onSubmit:function(e){e.preventDefault();var t=e.target[0].value.trim();return/^[\w,.!?]/.test(t)&&t?i(t):p({message:"Your search is not valid!",status:!0})},style:{position:"relative"},children:[Object(f.jsx)("input",{type:"text",id:"input",placeholder:"Search by city and countries",invalid:"false",className:x.status?"searchInput invalid":"searchInput"}),Object(f.jsx)("button",{type:"submit",className:"searchInputBtn",children:Object(f.jsx)(h.a,{icon:b.c})}),Object(f.jsx)("span",{className:"message",children:x.message})]})}}function O(e){return Object(f.jsxs)("main",{className:"searchLocationContainer",children:[Object(f.jsx)("h1",{children:"Welcome!"}),Object(f.jsx)("h3",{children:"Check the current and forecast weather."}),Object(f.jsx)(m,Object(i.a)({},e))]})}n(30),n(31);function x(e){var t=e.city,n=e.citiesList,a=e.citiesListIndex,c=e.setCitiesListIndex,s=t.name,r=t.sys.country;return Object(f.jsxs)("div",{className:"location-wp",children:[Object(f.jsx)("button",{className:"location-btn",onClick:function(){return c(0===a?n.length-1:function(e){return e-1})},children:Object(f.jsx)(h.a,{icon:b.a,className:"arrow-icon"})}),Object(f.jsxs)("h3",{className:"location-city",children:[s," ",Object(f.jsx)("span",{style:{color:"orangered"},children:r})," "]}),Object(f.jsx)("button",{className:"location-btn",onClick:function(){return a>=n.length-1?c(0):c((function(e){return e+1}))},children:Object(f.jsx)(h.a,{icon:b.b,className:"arrow-icon"})})]})}var p=function(){var e=new Date,t=new Intl.DateTimeFormat("en-US",{timeStyle:"medium",hourCycle:"h24"}).format(e),n=Object(a.useState)(t),c=Object(o.a)(n,2),s=c[0],r=c[1];return setInterval((function(){e=new Date,t=new Intl.DateTimeFormat("en-US",{timeStyle:"medium",hourCycle:"h24"}).format(e),r(t)}),1e3),Object(f.jsx)("div",{className:"clock-wp",children:Object(f.jsx)("h1",{children:s})})},v=function(e){var t=e.iconId;return Object(f.jsx)("i",{className:"wi wi-owm-".concat(t," icon")})};function y(e){var t=e.city,n=t.main,a=n.temp,c=n.feels_like,s=n.humidity,r=t.wind.speed,i=t.weather[0],o=i.description,l=i.id,d=Math.trunc(a),u=Math.trunc(c);return Object(f.jsxs)("div",{className:"current-weather-info-wp",children:[Object(f.jsxs)("h1",{children:[d,"\xb0"]}),Object(f.jsxs)("div",{className:"current-weather-info_description",children:[Object(f.jsx)(v,{iconId:l}),Object(f.jsx)("h3",{children:o})]}),Object(f.jsxs)("div",{className:"current-weather-info",children:[Object(f.jsxs)("h3",{children:["feels like: ",u,"\xb0"]}),Object(f.jsxs)("h3",{children:["humidity: ",s,"%"]}),Object(f.jsxs)("h3",{children:["wind speed: ",r," m/s"]})]})]})}function g(e){var t=e.city,n=e.setLocation;return Object(f.jsxs)("div",{className:"current-info-wp",children:[Object(f.jsxs)("div",{className:"current-info_location",children:[Object(f.jsx)(m,{setLocation:n}),Object(f.jsx)(x,Object(i.a)({},e))]}),Object(f.jsxs)("div",{className:"current-info_data",children:[Object(f.jsx)(p,{}),Object(f.jsx)("hr",{}),Object(f.jsx)(y,{city:t})]})]})}n(32);function w(e){var t=e.day,n=t.dt,a=t.feels_like,c=a.day,s=a.night,r=t.weather[0],i=r.id,o=r.description,l=function(e){var t=new Date(1e3*e);return{weekday:new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(t),dayNumber:t.getDay()+1,day:t.getDate(),month:t.getMonth(),year:t.getFullYear()}}(n),d=l.weekday,u=l.day,j=Math.trunc(c),h=Math.trunc(s);return Object(f.jsxs)("div",{className:"daily-forecast_card",children:[Object(f.jsxs)("h3",{children:[d," ",Object(f.jsx)("span",{children:u})]}),Object(f.jsxs)("div",{className:"daily-forecast_card-description",children:[Object(f.jsx)(v,{iconId:i}),Object(f.jsx)("h3",{children:o})]}),Object(f.jsxs)("h3",{className:"daily-forecast_card-temp",children:[j,"\xb0 ",Object(f.jsxs)("span",{children:[h,"\xb0"]})]})]})}function N(e){var t=e.days;return Object(f.jsx)("div",{className:"daily-forecast-wp",children:t.map((function(e,t){return Object(f.jsx)(w,{day:e},t)}))})}var k,I,L,M,S,C=n(15);k=function(e,t,n){n>1&&(t=k(e,t,n-1),e.pop());for(var a=Object.keys(e),c=Object.keys(t),s=Math.min(a.length-1,c.length-1),r=0;r<s;r++)t[r]=(t[c[r+1]]-t[c[r]])/(e[a[r+1]]-e[a[r]]);return t.pop(),t},I=function(e,t){var n,a;return a=D(e),n=Object.keys(a).map(Math.floor),L(n,a,t)},L=function(e,t,n){n>1&&(t=I(e,t));var a=Object.keys(e),c=Object.keys(t),s=Math.min(a.length-1,c.length-1);t[s]=-t[s]*(e[a[s]]-e[a[s-1]]);for(var r=s-1;r>=0;r--)t[r]=-t[c[r]]*(e[a[r+1]]-e[a[r]])+t[c[r+1]];return t},M=function(e,t){var n,a;a=D(e),n=Object.keys(a).map(Math.floor);var c=S(n,a,t);return c.minlist=c.minlist.map((function(t){var n=Math.floor((t[1]+t[0])/2);return Object.keys(e)[n]})),c.maxlist=c.maxlist.map((function(t){var n=Math.floor((t[1]+t[0])/2);return Object.keys(e)[n]})),{minlist:c.minlist,maxlist:c.maxlist}},S=function(e,t,n){var a,c,s,r,i,o,l,d,u=function(e){for(var t=[],n=Object.keys(e),a=0;a<n.length;a++)t[a]=e[n[a]];return t};for(t=u(t),e=u(e),a=t.length,c=0,s=t[0],r=t[0],i=[],o=[],l=1,"undefined"==typeof n&&(n=.1);l<a;){if(0==c)r-n<=t[l]&&t[l]<=s+n||(r-n>t[l]&&(c=-1),s+n<t[l]&&(c=1)),r=Math.max(r,t[l]),s=Math.min(s,t[l]);else if(1==c)if(r-n<=t[l])r=Math.max(r,t[l]);else{for(d=l-1;t[d]>=r-n;)d--;i.push([e[d],e[l]]),c=-1,s=t[l]}else if(-1==c)if(s+n>=t[l])s=Math.min(s,t[l]);else{for(d=l-1;t[d]<=s+n;)d--;o.push([e[d],e[l]]),c=1,r=t[l]}l++}return{minlist:o,maxlist:i}};var D=function(e){for(var t=[],n=Object.keys(e),a=0;a<n.length;a++)t[a]=e[n[a]];return t},F=(n(33),{datasets:[{label:"Temperature",backgroundColor:"rgba(255,99,132,0.0)",borderColor:"orangered",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:[65,59,80,81,56,55,40]}]});function _(e){var t=e.hourly;function n(){var e=window.innerWidth,t=6;return e>=640&&(t=12),e>=720&&(t=18),e>=1024&&(t=24),t}var c=Object(i.a)({},F);console.log("\ud83d\ude80 ~ file: HourlyForecast.jsx ~ line 47 ~ HourlyForecast ~ graphData",c),c.labels=[],c.datasets[0].data=[];var s=Object(a.useState)(n()),r=Object(o.a)(s,2),l=r[0],d=r[1];Object(a.useEffect)((function(){console.log("Observing resize");var e=function(){var e=n();l!==e&&d(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[l]);for(var u=0;u<l;u++){var j=new Date(1e3*t[u].dt).getHours();c.labels.push(j),c.datasets[0].data.push(t[u].temp)}var h=M(c.datasets[0].data,.5);return Object(f.jsxs)("div",{className:"hourly-forecast",children:[Object(f.jsx)("h2",{children:"Hourly forecast"}),Object(f.jsx)("div",{className:"hourly-forecast_chart",children:Object(f.jsx)(C.a,{data:c,options:{layout:{padding:35},labels:{defaultFontSize:24},plugins:{datalabels:{formatter:function(e,t){var n=t.dataIndex,a=(t.chart.data.labels[n],h.maxlist.includes(""+n)),s=h.minlist.includes(""+n),r=a?"\u25b2 ":s?"\u25bc ":"";return a||s||0===n||n===c.datasets[0].data.length-1?"".concat(r).concat(e.toFixed(1),"\xb0"):""},color:"#fff",offset:-30,align:"start",anchor:"end"}},scales:{yAxes:[{ticks:{display:!1}}]},legend:{display:!1},maintainAspectRatio:!1,responsive:!0}})})]})}n(34);function E(e){var t=e.loadingMessage;return Object(f.jsxs)("div",{className:"loading-wp",children:[Object(f.jsxs)("div",{class:"cloud-icon cloudy",children:[Object(f.jsx)("div",{class:"cloud"}),Object(f.jsx)("div",{class:"cloud"})]}),Object(f.jsx)("h1",{children:t})]})}function T(e){var t=e.lat,n=e.lon,a=Object(l.a)(function(e,t){return"".concat(u,"/data/2.5/onecall?lat=").concat(e,"&lon=").concat(t,"&exclude=").concat("minutely","&appid=").concat(d,"&units=").concat("metric")}(t,n),j),c=a.data,s=a.error;return c?s?void 0:Object(f.jsxs)("div",{children:[Object(f.jsx)(N,{days:c.daily}),Object(f.jsx)(_,{hourly:c.hourly})]}):Object(f.jsx)(E,{loadingMessage:"Loading data..."})}function z(e){var t=e.lat,n=e.lon,c=e.setLocation,s=Object(a.useState)(0),r=Object(o.a)(s,2),i=r[0],h=r[1],b=Object(l.a)(function(e,t){return"".concat(u,"/data/2.5/find?lat=").concat(e,"&lon=").concat(t,"&cnt=").concat(10,"&appid=").concat(d,"&units=").concat("metric")}(t,n),j),m=b.data,O=b.error;if(!m)return Object(f.jsx)("main",{className:"main-content-wp",children:Object(f.jsx)(E,{loadingMessage:"Loading location..."})});if(!O){var x=m.list[i],p=x.coord.lat,v=x.coord.lon;return Object(f.jsxs)("main",{className:"main-content-wp",children:[Object(f.jsx)(g,{city:x,citiesList:m.list,setCitiesListIndex:h,citiesListIndex:i,setLocation:c}),Object(f.jsx)(T,{lat:p,lon:v})]})}}var B=function(){var e=c.a.useState({loaded:!1,permission:!1,coordinates:{lat:null,lon:null}}),t=Object(o.a)(e,2),n=t[0],a=t[1];return c.a.useEffect((function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,n=e.coords.longitude;a({loaded:!0,permission:!0,coordinates:{lat:t,lon:n}})}),(function(){a((function(e){return Object(i.a)(Object(i.a)({},e),{},{loaded:!0,permission:!1})}))}))}),[]),n.loaded&&n.permission?Object(f.jsx)(z,{lat:n.coordinates.lat,lon:n.coordinates.lon,setLocation:a}):n.permission?void 0:Object(f.jsx)(O,{setLocation:a})};r.a.render(Object(f.jsx)(B,{}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.c6cbbfd5.chunk.js.map